syntax = "proto3";

package pb;

message Command {
	string name = 1;
	repeated string args = 2;
}

message Result {
	sint32 rc = 1;
	bytes stdout = 2;
	bytes stderr = 3;
}

message Message {
	string to = 1;
	string text = 2;
}

message Receipt {
	string error = 1;
}

service TBot {
	rpc Execute (Command) returns (Result);
	rpc Send (Message) returns (Receipt);
}
